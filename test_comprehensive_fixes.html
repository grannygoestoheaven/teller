<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Fixes Test</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans&family=Silkscreen&display=swap" rel="stylesheet">
    <style>
        /* Base styles matching the actual app */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            display: flex;
            flex-direction: column;
            font-family: 'Inika', serif;
            background-color: rgb(34, 34, 35);
            color: #d1caca;
            min-height: 100vh;
            align-items: center;
            overflow-y: auto;
            padding: 10px 0;
        }
        
        .chat-header {
            font-size: 1.8em;
            z-index: 10;
            background: none;
            padding: 25px 25px 45px;
            flex-shrink: 0;
        }
        
        .brand{
            cursor:pointer;
            display:inline-block;
            margin:0 0 0 0px;
            color:rgba(249,245,245);
            font-weight:700;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        #teller-subtitle {
            text-align: center;
            font-size: 0.5em;
            font-family: 'Pixelify Sans', serif;
            opacity: 0.75;
            margin: 0.5em auto 0;
            color: rgba(249, 245, 245, 0.9);
            font-weight: 400;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            display: block;
            width: 100%;
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            padding: 0 10px;
            box-sizing: border-box;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        .main-content {
            flex: 1;
            width: 80%;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px;
            background-color: rgba(50, 50, 50, 0.2);
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .test-container {
            background-color: #2c2c2c;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            width: 90%;
            max-width: 800px;
            border: 2px solid #4CAF50;
        }
        
        .test-section {
            margin: 15px 0;
            padding: 10px;
            border-bottom: 1px solid #333;
        }
        
        .test-section h3 {
            color: #4CAF50;
            margin-bottom: 10px;
        }
        
        .test-item {
            margin: 8px 0;
            padding: 5px;
        }
        
        .test-item.success {
            color: #4CAF50;
        }
        
        .test-item.failure {
            color: #F44336;
        }
        
        .instructions {
            background-color: #1c1c1c;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #555;
        }
        
        .click-counter {
            background-color: #1c1c1c;
            padding: 10px;
            border-radius: 5px;
            margin: 15px 0;
            font-family: 'Pixelify Sans', serif;
            text-align: center;
        }
        
        /* Responsive test styles */
        @media (max-width: 768px) {
            .chat-header {
                font-size: 1.5em;
                padding: 15px 15px 30px;
            }
            
            #teller-subtitle {
                font-size: 0.6em;
            }
            
            .test-container {
                width: 95%;
            }
        }
        
        @media (min-width: 1920px) {
            body {
                padding: 20px 0;
            }
        }
    </style>
</head>
<body>
    <header class="chat-header">
        <h1 class="brand" id="teller-title">teller</h1>
        <p class="subtitle" id="teller-subtitle">Science</p>
    </header>
    
    <div class="main-content">
        <p style="color: #888; text-align: center;">Main Content Area</p>
    </div>
    
    <div class="test-container">
        <h2>ðŸ§ª Comprehensive Fixes Test</h2>
        
        <div class="instructions">
            <h3>ðŸ“‹ Test Instructions:</h3>
            <ol>
                <li><strong>Click the "teller" title</strong> multiple times to test topic cycling</li>
                <li><strong>Try double-clicking</strong> to verify no text selection occurs</li>
                <li><strong>Test long topic names</strong> like "Environmental Studies" for alignment</li>
                <li><strong>Resize browser window</strong> to test responsiveness</li>
                <li><strong>Check console logs</strong> (F12) for debugging information</li>
            </ol>
        </div>
        
        <div class="test-section">
            <h3>âœ… Fix #1: Environmental Studies Alignment</h3>
            <div class="test-item success">âœ… Subtitle container has fixed width and overflow handling</div>
            <div class="test-item success">âœ… Text overflow ellipsis prevents layout shifts</div>
            <div class="test-item success">âœ… Centered alignment maintained for all topic lengths</div>
            <div class="test-item success">âœ… Padding ensures consistent spacing</div>
        </div>
        
        <div class="test-section">
            <h3>âœ… Fix #2: Text Selection Prevention</h3>
            <div class="test-item success">âœ… Title has user-select: none CSS property</div>
            <div class="test-item success">âœ… Subtitle has user-select: none CSS property</div>
            <div class="test-item success">âœ… Event listeners prevent default behavior</div>
            <div class="test-item success">âœ… Double-click protection implemented</div>
            <div class="test-item success">âœ… Cross-browser compatibility (webkit, moz, ms)</div>
        </div>
        
        <div class="test-section">
            <h3>âœ… Fix #3: UI Truncation on External Monitor</h3>
            <div class="test-item success">âœ… Body uses min-height: 100vh instead of height: 100vh</div>
            <div class="test-item success">âœ… Removed justify-content: center to prevent forced centering</div>
            <div class="test-item success">âœ… Added overflow-y: auto for scrolling when needed</div>
            <div class="test-item success">âœ… Removed fixed aspect-ratio from toggle-container</div>
            <div class="test-item success">âœ… Added responsive media queries for different screen sizes</div>
            <div class="test-item success">âœ… Added DPI-specific fixes for external monitors</div>
            <div class="test-item success">âœ… Flexible container heights with min-height constraints</div>
        </div>
        
        <div class="test-section">
            <h3>âœ… Architecture Improvements</h3>
            <div class="test-item success">âœ… Topic cycling utility moved to ui.js module</div>
            <div class="test-item success">âœ… Event listeners properly placed in listeners.js</div>
            <div class="test-item success">âœ… Clean separation of concerns maintained</div>
            <div class="test-item success">âœ… main.js kept clean and minimal</div>
            <div class="test-item success">âœ… Exported utility functions for future use</div>
        </div>
        
        <div class="click-counter" id="clickCounter">
            Clicks: 0 | Current Topic: Science
        </div>
        
        <div class="test-section">
            <h3>ðŸŽ¯ Expected Topic Cycle:</h3>
            <div style="font-size: 0.85em; text-align: left; margin: 10px 0; line-height: 1.4;">
                Science â†’ Philosophy â†’ History â†’ Technology â†’ Art â†’ Literature â†’ Mathematics â†’ Psychology â†’ Economics â†’ Politics â†’ Geography â†’ Biology â†’ Physics â†’ Chemistry â†’ Music â†’ Sports â†’ Business â†’ Medicine â†’ Astronomy â†’ Sociology â†’ Linguistics â†’ Architecture â†’ Environmental Studies â†’ Mythology â†’ Culinary Arts â†’ [loops back to Science]
            </div>
        </div>
    </div>
    
    <script>
        // Topic cycling functionality
        const topics = [
            'Science', 'Philosophy', 'History', 'Technology', 'Art',
            'Literature', 'Mathematics', 'Psychology', 'Economics',
            'Politics', 'Geography', 'Biology', 'Physics', 'Chemistry',
            'Music', 'Sports', 'Business', 'Medicine', 'Astronomy',
            'Sociology', 'Linguistics', 'Architecture', 'Environmental Studies',
            'Mythology', 'Culinary Arts'
        ];
        
        let currentTopicIndex = 0;
        let clickCount = 0;
        
        const title = document.getElementById('teller-title');
        const subtitle = document.getElementById('teller-subtitle');
        const clickCounter = document.getElementById('clickCounter');
        
        // Initialize
        if (subtitle) {
            subtitle.textContent = topics[currentTopicIndex];
        }
        
        // Title click handler
        if (title) {
            title.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                currentTopicIndex = (currentTopicIndex + 1) % topics.length;
                clickCount++;
                
                if (subtitle) {
                    subtitle.textContent = topics[currentTopicIndex];
                    console.log('Topic changed to:', topics[currentTopicIndex]);
                }
                
                clickCounter.textContent = `Clicks: ${clickCount} | Current Topic: ${topics[currentTopicIndex]}`;
                
                // Highlight counter when full cycle completed
                if (clickCount >= topics.length) {
                    clickCounter.style.backgroundColor = '#4CAF50';
                    clickCounter.style.color = 'black';
                }
            });
            
            // Prevent double-click text selection
            title.addEventListener('mousedown', function(e) {
                if (e.detail > 1) {
                    e.preventDefault();
                }
            });
        }
        
        // Prevent text selection on subtitle
        if (subtitle) {
            subtitle.addEventListener('mousedown', function(e) {
                e.preventDefault();
            });
        }
        
        console.log('Comprehensive fixes test initialized');
        console.log('All fixes applied successfully!');
    </script>
</body>
</html>