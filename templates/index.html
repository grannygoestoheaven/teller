<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>teller - AI storytelling, Knowledge drifting</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style_gemini_highlighted.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans&family=Silkscreen&display=swap" rel="stylesheet">
</head>
<body>
    <header class="chat-header">
        <h1 class="brand">
          teller <span class="tagline">the knowledge drifter</span>
        </h1>
      </header>
      
    <!-- chat history box -->
    <div class="chat-history">
        <div class="chat-inner" id="chatHistory"><!-- JS keeps filling spans here --></div>
     </div>
  
    <div class="loading-animation-container" id="loadingAnimationContainer">
        <div class="loading-animation" id="loadingAnimation">
            <span id ="period" class="period period-1">.</span>
            <span id ="period" class="period period-2">.</span>
            <span id ="period" class="period period-3">.</span>
        </div>
    </div>

    <div class="audio-player-container" id="audioPlayerContainer">
        <audio id="speechAudio" preload="auto"></audio>
        <audio id="backgroundAudio" preload="auto" loop></audio>
        <div id="story-title-display" class="story-title-display"></div>

    </div>

    <footer class="chat-input-area">
        <form action="/generate_story" method="POST" id="story-form" enctype="multipart/form-data">
            <div class="form-fields-container">
                <div class="form-group subject-input-group">
                    <!-- <input type="text" id="subject" name="subject" placeholder="What do you want to hear ?" required> -->
                    <textarea id="subject" name="subject" placeholder="What do you want to hear ?" required rows="1"></textarea>
                </div>
            </div>
            <div class="controls">
                <button type="button" class="send-button" class="pixel-play" id="replayButton">Replay</button>
                <!-- <button type="button" class="send-button" class="pixel-play" id="stopButton">Stop</button> -->
                <button type="submit" class="send-button" class="pixel-play" id="generateButton">Play</button>
                  <!-- <span class="pixel-play">PLAY</span> -->
                </button>
              </div>
        </form>
    </footer>

    <script type="module" src="{{ url_for('static', filename='js/storage.js') }}"></script>
    <!-- <script type="module" src="{{ url_for('static', filename='js/webAudioAPI2.js') }}"></script> -->
    <script type="module" src="{{ url_for('static', filename='js/audioControls3.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/loadingAnimation.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/textStreamer.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/main3.js') }}"></script>

</body>
</html>