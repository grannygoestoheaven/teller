<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Storyteller</title>
</head>
<body>
    <h1>AI Storyteller</h1>
    <form action="/generate_story" method="POST">
        <label for="subject">Enter the subject:</label>
        <input type="text" id="subject" name="subject" required><br><br>

        <label for="length">Enter the length of the story:</label>
        <input type="number" id="length" name="length" required><br><br>

        <label for="track_url">Paste the track URL:</label>
        <input type="url" id="track_url" name="track_url"><br><br>
        
        <label for="track_url">Select local track:</label>
        <input type="file" id="track_url" name="track_url" accept="audio/*"><br><br>

        <button type="submit">Generate Story</button>
    </form>
    <div id="storyResult"></div>
    <script>
        // Here you can write JS to handle the response and update the page dynamically
    </script>
</body>
</html>
 
 <!-- <!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>teller - AI storyteller</title>
     <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
 </head>
 <body>
     <div class="chat-container">
         <header class="chat-header">
             <h1>teller</h1>
             <p>Provide the details below to generate your story.</p>
         </header>
 
         <div class="chat-history" id="chatHistory">
              {% if story %}
              <div class="message ai-message">
                  <p><strong>Generated Story:</strong></p>
                  <p>{{ story }}</p>
              </div>
              {% else %}
               <div class="message system-message">
                  <p>Your generated story will appear here after submission.</p>
              </div>
              {% endif %}
              <div id="storyResult"></div>
         </div>
 
         <footer class="chat-input-area">
             <form action="/generate_story" method="POST" id="story-form">
                 <div class="form-row">
                     <div class="form-group">
                         <label for="subject">Subject:</label>
                         <input type="text" id="subject" name="subject" placeholder="e.g., A lonely robot on Mars" required>
                     </div>
                     <div class="form-group">
                        <label for="duration">Duration (minutes):</label>
                        <input type="number" id="duration" name="duration" placeholder="e.g., 3" required step="1" min="1">
                        </div>
                 </div>
                  <div class="form-row">
                      <div class="form-group full-width">
                         <label for="track_url">Optional Track URL (for inspiration):</label>
                         <input type="url" id="track_url" name="track_url" placeholder="Paste Spotify, YouTube Music, etc. URL">
                     </div>
                  </div>
                  <div class="form-row">
                       <button type="submit" class="send-button">Generate Story</button>
                  </div>
             </form>
         </footer>
     </div>
 
     <script>
         // Example: You could intercept the form submission here
         // const form = document.getElementById('story-form');
         // const storyResultDiv = document.getElementById('storyResult');
         // const chatHistory = document.getElementById('chatHistory');
 
         // form.addEventListener('submit', async (event) => {
         //     event.preventDefault(); // Stop traditional submission
         //     storyResultDiv.innerHTML = '<div class="message system-message"><p>Generating story...</p></div>'; // Loading state
 
         //     const formData = new FormData(form);
 
         //     try {
         //         const response = await fetch('/generate_story', {
         //             method: 'POST',
         //             body: formData
         //         });
         //         const data = await response.json(); // Assuming your Flask returns JSON {story: "..."}
 
         //         if (response.ok && data.story) {
         //              // Clear previous results and add new one
         //             storyResultDiv.innerHTML = ''; // Clear loading/previous
         //             const newMessage = document.createElement('div');
         //             newMessage.classList.add('message', 'ai-message');
         //             newMessage.innerHTML = `<p><strong>Generated Story:</strong></p><p>${data.story.replace(/\n/g, '<br>')}</p>`; // Display story
         //             chatHistory.appendChild(newMessage); // Add to history
         //             chatHistory.scrollTop = chatHistory.scrollHeight; // Scroll to bottom
         //         } else {
         //             storyResultDiv.innerHTML = `<div class="message system-message error"><p>Error: ${data.error || 'Could not generate story.'}</p></div>`;
         //         }
         //     } catch (error) {
         //          storyResultDiv.innerHTML = `<div class="message system-message error"><p>Network Error: ${error}</p></div>`;
         //     }
         // });
     </script>
 </body>
 </html> -->